<<<<<<< HEAD
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=50) +
scale_x_log10() +
scale_y_log10()
sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=50) +
scale_x_log10(scales::comma) +
scale_y_log10(scales::comma)
sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=50) +
scale_x_log10(scales::comma()) +
scale_y_log10(scales::comma())
sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=50) +
scale_x_sqrt(scales::comma) +
scale_y_sqrt(scales::comma)
sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=50) +
scale_x_sqrt() +
scale_y_sqrt()
sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=50) +
scale_x_sqrt(scales::comma) +
scale_y_sqrt()
install.packages("scales")
sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=50) +
scale_x_sqrt(scales::comma) +
scale_y_sqrt()
sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=50) +
scale_x_sqrt(labels = scales::comma) +
scale_y_sqrt()
sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=50) +
scale_x_sqrt(labels = scales::comma) +
scale_y_sqrt(labels = scales::comma)
sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=100) +
scale_x_sqrt(labels = scales::comma) +
scale_y_sqrt(labels = scales::comma)
scatterplot_g <- sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_point(alpha=0.1) +
scale_x_sqrt(labels = scales::comma) +
scale_y_sqrt(labels = scales::comma)
scatterplot_g
hex_g <- sf_df %>%
ggplot(aes(x=BasePay, y=TotalPay)) +
geom_hex(bins=100) +
scale_x_sqrt(labels = scales::comma) +
scale_y_sqrt(labels = scales::comma)
hex_g
sf_df
sf_df %>%
count(Agency)
sf_df %>%
count(JobTitle)
sf_df %>%
count(Notes)
View(sf_df)
sf_df %>% count(Status)
sf_df %>%
select(-Agency, -Notes, -Status, -Benefits, -TotalPayBenefits, -JobTitle, -Id) %>%
gather(í•­ëª©, ê¸ˆì•¡, -Year, -EmployeeName)
sf_tidy_df <- sf_df %>%
select(-Agency, -Notes, -Status, -Benefits, -TotalPayBenefits, -JobTitle, -Id) %>%
gather(í•­ëª©, ê¸ˆì•¡, -Year, -EmployeeName)
sf_tidy_df <- sf_df %>%
select(-Agency, -Notes, -Status, -Benefits, -TotalPayBenefits, -JobTitle, -Id) %>%
gather(`í•­ëª©`, `ê¸ˆì•¡`, -Year, -EmployeeName)
sf_tidy_df %>%
group_by(Year, `í•­ëª©`) %>%
summarise(median_dollar = median(`ê¸ˆì•¡`))
sf_tidy_df %>%
group_by(Year, `í•­ëª©`) %>%
summarise(median_dollar = mean(`ê¸ˆì•¡`, na.rm = TRUE))
sf_salary_summary_df <- sf_tidy_df %>%
group_by(Year, `í•­ëª©`) %>%
summarise(`í‰ê· ì—°ë´‰` = mean(`ê¸ˆì•¡`, na.rm = TRUE))
sf_salary_summary_df
sf_salary_summary_df %>%
ggplot(aes(x=Year, y=`í‰ê· ì—°ë´‰`)) +
=======
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
theme(legend.position = "none") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE) +
theme_minimal(base_family = "NanumGothic")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
>>>>>>> ba910147c4b51aa74f2743469cbe81069268b48b
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
theme(legend.position = "none") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE,
font_family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
theme(legend.position = "none") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE,
fontfamily = "NanumGothic") +
theme_minimal(base_family = "NanumGothic")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
theme(legend.position = "none") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "red"))
growth_viz_tbl <- growth_tbl %>%
pivot_longer(-êµ­ê°€, names_to = "ì—°ë„", values_to = "ê²½ì œì„±ì¥ë¥ ") %>%
mutate(êµ­ê°€ëª… = case_when(êµ­ê°€ == "Brazil" ~ "ë¸Œë¼ì§ˆ",
êµ­ê°€ == "France" ~ "í”„ë‘ìŠ¤",
êµ­ê°€ == "Germany" ~ "ë…ì¼",
êµ­ê°€ == "Italy" ~ "ì´íƒˆë¦¬ì•„",
êµ­ê°€ == "Japan" ~ "ì¼ë³¸",
êµ­ê°€ == "Korea, Rep." ~ "ëŒ€í•œë¯¼êµ­",
êµ­ê°€ == "Sweden" ~ "ìŠ¤ì›¨ë´",
êµ­ê°€ == "United Kingdom" ~ "ì˜êµ­",
êµ­ê°€ == "United States" ~ "ë¯¸êµ­")) %>%
mutate(is_korea = if_else(str_detect(êµ­ê°€ëª…, "(ëŒ€í•œë¯¼êµ­)|(ë¯¸êµ­)"), TRUE, FALSE))
growth_viz_tbl %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
facet_wrap(~êµ­ê°€ëª…) +
theme_minimal(base_family = "NanumGothic") +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "red"))
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "red"))
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "red")) +
scale_x_continuous(limits = 2015:2021)
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "red")) +
scale_x_continuous(limits = c(2015,2021))
growth_viz_tbl <- growth_tbl %>%
pivot_longer(-êµ­ê°€, names_to = "ì—°ë„", values_to = "ê²½ì œì„±ì¥ë¥ ") %>%
mutate(êµ­ê°€ëª… = case_when(êµ­ê°€ == "Brazil" ~ "ë¸Œë¼ì§ˆ",
êµ­ê°€ == "France" ~ "í”„ë‘ìŠ¤",
êµ­ê°€ == "Germany" ~ "ë…ì¼",
êµ­ê°€ == "Italy" ~ "ì´íƒˆë¦¬ì•„",
êµ­ê°€ == "Japan" ~ "ì¼ë³¸",
êµ­ê°€ == "Korea, Rep." ~ "ëŒ€í•œë¯¼êµ­",
êµ­ê°€ == "Sweden" ~ "ìŠ¤ì›¨ë´",
êµ­ê°€ == "United Kingdom" ~ "ì˜êµ­",
êµ­ê°€ == "United States" ~ "ë¯¸êµ­")) %>%
mutate(is_korea = case_when(str_detect(êµ­ê°€ëª…, "(ëŒ€í•œë¯¼êµ­)") ~ "ëŒ€í•œë¯¼êµ­",
str_detect(êµ­ê°€ëª…, "ë¯¸êµ­") ~ "ë¯¸êµ­",
TRUE ~ "ê¸°íƒ€"))
growth_viz_tbl <- growth_tbl %>%
pivot_longer(-êµ­ê°€, names_to = "ì—°ë„", values_to = "ê²½ì œì„±ì¥ë¥ ") %>%
mutate(êµ­ê°€ëª… = case_when(êµ­ê°€ == "Brazil" ~ "ë¸Œë¼ì§ˆ",
êµ­ê°€ == "France" ~ "í”„ë‘ìŠ¤",
êµ­ê°€ == "Germany" ~ "ë…ì¼",
êµ­ê°€ == "Italy" ~ "ì´íƒˆë¦¬ì•„",
êµ­ê°€ == "Japan" ~ "ì¼ë³¸",
êµ­ê°€ == "Korea, Rep." ~ "ëŒ€í•œë¯¼êµ­",
êµ­ê°€ == "Sweden" ~ "ìŠ¤ì›¨ë´",
êµ­ê°€ == "United Kingdom" ~ "ì˜êµ­",
êµ­ê°€ == "United States" ~ "ë¯¸êµ­")) %>%
mutate(is_korea = case_when(str_detect(êµ­ê°€ëª…, "(ëŒ€í•œë¯¼êµ­)") ~ "ëŒ€í•œë¯¼êµ­",
str_detect(êµ­ê°€ëª…, "ë¯¸êµ­") ~ "ë¯¸êµ­",
TRUE ~ "ê¸°íƒ€"))
growth_viz_tbl %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
facet_wrap(~êµ­ê°€ëª…) +
theme_minimal(base_family = "NanumGothic") +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "red"))
growth_viz_tbl %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
facet_wrap(~êµ­ê°€ëª…) +
theme_minimal(base_family = "NanumGothic") +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "red", "blue"))
growth_viz_tbl %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
facet_wrap(~êµ­ê°€ëª…) +
theme_minimal(base_family = "NanumGothic") +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "blue", "red"))
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 1,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021))
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021))
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021))
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021))
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021)) +
geom_hline(yintercept = 0, ltype ="1")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021)) +
geom_hline(yintercept = 0, ltype =1)
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021)) +
geom_hline(yintercept = 0, linetype =1)
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray50", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021)) +
geom_hline(yintercept = 0, linetype = 1, color = "gray50")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray75", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021)) +
geom_hline(yintercept = 0, linetype = 1, color = "gray50")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray75", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021)) +
geom_hline(yintercept = 0, linetype = 2, color = "gray50")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray75", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021)) +
geom_hline(yintercept = 0, linetype = 2, color = "gray77")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray75", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021)) +
geom_hline(yintercept = 0, linetype = 2, color = "gray37")
growth_viz_tbl %>%
mutate(ì—°ë„ = as.integer(ì—°ë„)) %>%
mutate(label = if_else(ì—°ë„ == max(ì—°ë„), as.character(êµ­ê°€ëª…), NA_character_))  %>%
ggplot(aes(x=ì—°ë„, y=ê²½ì œì„±ì¥ë¥ , group = êµ­ê°€ëª…, color = is_korea)) +
geom_line() +
geom_point() +
<<<<<<< HEAD
facet_trelliscope(~ country + continent,
nrow=3, ncol=4,
as_plotly = TRUE,
auto_cog = TRUE)
library(ggplot2)
city_names <- c(
"Tokyo (æ±äº¬/ë„ì¿„)",
"Yokohama (æ¨ªæµœ/ìš”ì½”í•˜ë§ˆ)",
"Osaka (å¤§é˜ªå¸‚/ì˜¤ì‚¬ì¹´)",
"Nagoya (åå¤å±‹å¸‚/ë‚˜ê³ ì•¼)",
"Sapporo (æœ­å¹Œå¸‚/ì‚¬í¬ë¥´)",
"Kobe (ç¥æˆ¸å¸‚/ê³ ë² )",
"Kyoto (äº¬éƒ½å¸‚/êµí† )",
"Fukuoka (ç¦å²¡å¸‚/í›„ì¿ ì‹œë§ˆ)",
"Kawasaki (å·å´å¸‚/ê°€ì™€ì‚¬í‚¤)",
"Saitama (ã•ã„ãŸã¾å¸‚/ì‚¬ì´íƒ€ë§ˆ)"
)
main_cities <- data.frame(
name = city_names,
lat = c(35.690, 35.444, 34.694, 35.183, 43.067,
34.69, 35.012, 33.583, 35.517, 35.861),
lon = c(139.692, 139.638, 135.502, 136.9, 141.35,
135.196, 135.768, 130.4, 139.7, 139.646)
)
japan <- rnaturalearth::ne_countries(
scale = 10,
country = "Japan",
returnclass = "sf"
)
ggplot() +
geom_sf(
data = japan,
fill = "forestgreen",
colour = "grey10",
size = 0.2
) +
ggrepel::geom_label_repel(
aes(lon, lat, label = name),
data = main_cities,
fill = "#FFFFFF88",
box.padding = unit(5, "mm")
) +
geom_point(aes(lon, lat), main_cities) +
ggtitle(
"Location of largest cities in Japan (æ—¥æœ¬) ğŸ‡¯ğŸ‡µ"
) +
theme_void() +
theme(panel.background = element_rect("steelblue"),
plot.title = element_text(margin = margin(5, 0, 5, 0)))
japan <- rnaturalearth::ne_countries(
scale = 10,
country = "Japan",
returnclass = "sf"
)
install.packages("rnaturalearth")
library(ggplot2)
city_names <- c(
"Tokyo (æ±äº¬/ë„ì¿„)",
"Yokohama (æ¨ªæµœ/ìš”ì½”í•˜ë§ˆ)",
"Osaka (å¤§é˜ªå¸‚/ì˜¤ì‚¬ì¹´)",
"Nagoya (åå¤å±‹å¸‚/ë‚˜ê³ ì•¼)",
"Sapporo (æœ­å¹Œå¸‚/ì‚¬í¬ë¥´)",
"Kobe (ç¥æˆ¸å¸‚/ê³ ë² )",
"Kyoto (äº¬éƒ½å¸‚/êµí† )",
"Fukuoka (ç¦å²¡å¸‚/í›„ì¿ ì‹œë§ˆ)",
"Kawasaki (å·å´å¸‚/ê°€ì™€ì‚¬í‚¤)",
"Saitama (ã•ã„ãŸã¾å¸‚/ì‚¬ì´íƒ€ë§ˆ)"
)
main_cities <- data.frame(
name = city_names,
lat = c(35.690, 35.444, 34.694, 35.183, 43.067,
34.69, 35.012, 33.583, 35.517, 35.861),
lon = c(139.692, 139.638, 135.502, 136.9, 141.35,
135.196, 135.768, 130.4, 139.7, 139.646)
)
japan <- rnaturalearth::ne_countries(
scale = 10,
country = "Japan",
returnclass = "sf"
)
japan <- rnaturalearth::ne_countries(
scale = 10,
country = "Japan",
returnclass = "sf"
)
install.packages("rnaturalearthhires", repos = "http://packages.ropensci.org", type = "source")
japan <- rnaturalearth::ne_countries(
scale = 10,
country = "Japan",
returnclass = "sf"
)
.libPaths()
japan <- rnaturalearth::ne_countries(
scale = 10,
country = "Japan",
returnclass = "sf"
)
install.packages("rnaturalearthhires")
devtools::install_github("ropensci/rnaturalearthhires")
japan <- rnaturalearth::ne_countries(
scale = 10,
country = "Japan",
returnclass = "sf"
)
library(ggplot2)
city_names <- c(
"Tokyo (æ±äº¬/ë„ì¿„)",
"Yokohama (æ¨ªæµœ/ìš”ì½”í•˜ë§ˆ)",
"Osaka (å¤§é˜ªå¸‚/ì˜¤ì‚¬ì¹´)",
"Nagoya (åå¤å±‹å¸‚/ë‚˜ê³ ì•¼)",
"Sapporo (æœ­å¹Œå¸‚/ì‚¬í¬ë¥´)",
"Kobe (ç¥æˆ¸å¸‚/ê³ ë² )",
"Kyoto (äº¬éƒ½å¸‚/êµí† )",
"Fukuoka (ç¦å²¡å¸‚/í›„ì¿ ì‹œë§ˆ)",
"Kawasaki (å·å´å¸‚/ê°€ì™€ì‚¬í‚¤)",
"Saitama (ã•ã„ãŸã¾å¸‚/ì‚¬ì´íƒ€ë§ˆ)"
)
main_cities <- data.frame(
name = city_names,
lat = c(35.690, 35.444, 34.694, 35.183, 43.067,
34.69, 35.012, 33.583, 35.517, 35.861),
lon = c(139.692, 139.638, 135.502, 136.9, 141.35,
135.196, 135.768, 130.4, 139.7, 139.646)
)
japan <- rnaturalearth::ne_countries(
scale = 10,
country = "Japan",
returnclass = "sf"
)
ggplot() +
geom_sf(
data = japan,
fill = "forestgreen",
colour = "grey10",
size = 0.2
) +
ggrepel::geom_label_repel(
aes(lon, lat, label = name),
data = main_cities,
fill = "#FFFFFF88",
box.padding = unit(5, "mm")
) +
geom_point(aes(lon, lat), main_cities) +
ggtitle(
"Location of largest cities in Japan (æ—¥æœ¬) ğŸ‡¯ğŸ‡µ"
) +
theme_void() +
theme(panel.background = element_rect("steelblue"),
plot.title = element_text(margin = margin(5, 0, 5, 0)))
ggplot() +
geom_sf(
data = japan,
fill = "forestgreen",
colour = "grey10",
size = 0.2
) +
ggrepel::geom_label_repel(
aes(lon, lat, label = name),
data = main_cities,
fill = "#FFFFFF88",
box.padding = unit(5, "mm"),
family = "Arial"
) +
geom_point(aes(lon, lat), main_cities) +
ggtitle(
"Location of largest cities in Japan (æ—¥æœ¬) ğŸ‡¯ğŸ‡µ"
) +
theme_void() +
theme(panel.background = element_rect("steelblue"),
plot.title = element_text(margin = margin(5, 0, 5, 0)))
ggplot() +
geom_sf(
data = japan,
fill = "forestgreen",
colour = "grey10",
size = 0.2
) +
ggrepel::geom_label_repel(
aes(lon, lat, label = name),
data = main_cities,
fill = "#FFFFFF88",
box.padding = unit(5, "mm"),
family = "NanumGothic"
) +
geom_point(aes(lon, lat), main_cities) +
ggtitle(
"Location of largest cities in Japan (æ—¥æœ¬) ğŸ‡¯ğŸ‡µ"
) +
theme_void() +
theme(panel.background = element_rect("steelblue"),
plot.title = element_text(margin = margin(5, 0, 5, 0)))
ggplot() +
geom_sf(
data = japan,
fill = "forestgreen",
colour = "grey10",
size = 0.2
) +
ggrepel::geom_label_repel(
aes(lon, lat, label = name),
data = main_cities,
fill = "#FFFFFF88",
box.padding = unit(5, "mm"),
family = "NanumGothic"
) +
geom_point(aes(lon, lat), main_cities) +
ggtitle(
"Location of largest cities in Japan (æ—¥æœ¬) ğŸ‡¯ğŸ‡µ",
family = "NanumGothic"
) +
theme_void() +
theme(panel.background = element_rect("steelblue"),
plot.title = element_text(margin = margin(5, 0, 5, 0)))
ggplot() +
geom_sf(
data = japan,
fill = "forestgreen",
colour = "grey10",
size = 0.2
) +
ggrepel::geom_label_repel(
aes(lon, lat, label = name),
data = main_cities,
fill = "#FFFFFF88",
box.padding = unit(5, "mm"),
family = "NanumGothic"
) +
geom_point(aes(lon, lat), main_cities) +
ggtitle(
"Location of largest cities in Japan (æ—¥æœ¬) ğŸ‡¯ğŸ‡µ"
) +
theme_void(family = "NanumGothic") +
theme(panel.background = element_rect("steelblue"),
plot.title = element_text(margin = margin(5, 0, 5, 0)))
ggplot() +
geom_sf(
data = japan,
fill = "forestgreen",
colour = "grey10",
size = 0.2
) +
ggrepel::geom_label_repel(
aes(lon, lat, label = name),
data = main_cities,
fill = "#FFFFFF88",
box.padding = unit(5, "mm"),
family = "NanumGothic"
) +
geom_point(aes(lon, lat), main_cities) +
ggtitle(
"Location of largest cities in Japan (æ—¥æœ¬) ğŸ‡¯ğŸ‡µ"
) +
theme_void(base_family = "NanumGothic") +
theme(panel.background = element_rect("steelblue"),
plot.title = element_text(margin = margin(5, 0, 5, 0)))
=======
labs(x="", y="ê²½ì œì„±ì¥ë¥ ", title = "ì½”ë¡œë‚˜19 ìœ„ê¸° ì† ì£¼ìš”êµ­ê°€ ê²½ì œì„±ì¥ë¥ ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ê²½ì œì„±ì¥ë¥ (ë‹¨ìœ„: %)",
color = "") +
geom_label_repel(aes(label = label),
nudge_x = 0.5,
na.rm = TRUE,
family = "NanumGothic") +
theme_minimal(base_family = "NanumGothic") +
theme(legend.position = "none") +
scale_color_manual(values = c("gray75", "blue", "red")) +
scale_x_continuous(limits = c(2015,2021)) +
geom_hline(yintercept = 0, linetype = 3, color = "gray37")
ggsave("fig/covid19-growth.png")
deaths_tbl %>%
ggplot(aes(x = as.integer(month), y=ì‚¬ë§ì, group = year, color = is_2020)) +
geom_line() +
facet_wrap(~êµ­ê°€ëª…, scales = "fixed") +
scale_x_continuous(limits = c(1,12), breaks = c(2,4,6,8,10)) +
scale_y_continuous(labels = scales::comma) +
scale_color_manual(values = c("gray50", "red")) +
theme_minimal(base_family = "NanumGothic") +
labs(x="", y="ì‚¬ë§ì", title = "ì½”ë¡œë‚˜19ë¡œ ì¸í•œ ì£¼ìš”êµ­ê°€ ì›”ë³„ ì‚¬ë§ììˆ˜ ë¹„êµ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ì›”ë³„ ì‚¬ë§ììˆ˜",
color = "") +
theme(legend.position = "top")
deaths_tbl %>%
ggplot(aes(x = as.integer(month), y=ì‚¬ë§ì, group = year, color = is_2020)) +
geom_line() +
facet_wrap(~êµ­ê°€ëª…, scales = "free_y") +
scale_x_continuous(limits = c(1,12), breaks = c(2,4,6,8,10)) +
scale_y_continuous(labels = scales::comma) +
scale_color_manual(values = c("gray50", "red")) +
theme_minimal(base_family = "NanumGothic") +
labs(x="", y="ì‚¬ë§ì", title = "ì½”ë¡œë‚˜19ë¡œ ì¸í•œ ì£¼ìš”êµ­ê°€ ì›”ë³„ ì‚¬ë§ììˆ˜ ë¹„êµ",
subtitle = "2015ë…„ë¶€í„° 2020ë…„ ì›”ë³„ ì‚¬ë§ììˆ˜",
color = "") +
theme(legend.position = "top")
ggsave("fig/covid19-deaths.png")
remotes::install_github("eshom/covid-age-data")
inputDB <- download_covid("inputDB", progress = FALSE)
# remotes::install_github("eshom/covid-age-data")
library(covidAgeData)
inputDB <- download_covid("inputDB", progress = FALSE)
subset_covid(inputDB, Country = "South Korea", Region = "All") %>%
head()
library(tidyverse)
subset_covid(inputDB, Country = "South Korea", Region = "All") %>%
head()
korea_tbl <- subset_covid(inputDB, Country = "South Korea", Region = "All")
korea_tbl
korea_tbl <- subset_covid(inputDB, Country = "South Korea", Region = "All") %>%
as_tibble()
korea_tbl
korea_tbl %>%
janitor::clean_names(.)
korea_tbl %>%
janitor::clean_names(.) %>%
mutate(date = dmy(date))
library(lubridate)
korea_tbl %>%
janitor::clean_names(.) %>%
mutate(date = dmy(date))
korea_tbl %>%
janitor::clean_names(.) %>%
mutate(date = dmy(date)) %>%
glimpse
korea_tbl %>%
janitor::clean_names(.) %>%
mutate(date = dmy(date)) %>%
skimr::skim
korea_tbl %>%
janitor::clean_names(.) %>%
mutate(date = dmy(date)) %>%
skimr::skim(.)
>>>>>>> ba910147c4b51aa74f2743469cbe81069268b48b
